Upgrade the Gateway
============================================

The upgrade procedure migrates the existing KAAZING Gateway (including any associated applications) into KAAZING Gateway release 5.0. The following checklist provides the steps necessary to upgrade KAAZING Gateway to the next release.

**Note**: If you are using KAAZING Gateway 3.x, please first upgrade to 4.x by following [these instructions](http://developer.kaazing.com/documentation/gateway/4.0/upgrade/o_upgrade.html).

| Step                                                                                                                                                                                                                                                                               | Topic or Reference                                                                                                                                                                                                                                                                                                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Understand Gateway release number strategy and the upgrade process.                                                                                                                                                                                                                | [About KAAZING Gateway Releases and Upgrades](c_upgrade_gw.md)                                                                                                                                                                                                                                                                                                |
| Upgrade to the new Gateway release using one of the following: Using the Windows or Linux installer to install the Gateway into conventional (default) operating system locations; Unpacking the .zip for Windows or .tar.gz for Linux, UNIX, or Mac) into any directory location. | [Setting Up the Gateway](../about/setup-guide.md) See [Upgrade Options](c_upgrade_gw.md#upgrade-options) for help choosing an upgrade methodology.                                                                                                                                                                                                         |
| Migrate your existing Gateway configuration file and other files to the new Gateway installation.                                                                                                                                                                                  | [Migrate the Gateway Configuration](p_migrate_gwconfig.md)                                                                                                                                                                                                                                                                                                    |
| If you are using a Gateway in a cluster, then you need to perform additional steps to migrate the cluster members.                                                                                                                                                                 | [Clustering and Load Balancing Migration](../high-availability/u_high_availability.md#clustering-and-load-balancing-migration) **Note:** Upgrade all members of the Gateway cluster before you migrate any clients.                                                                                                                                                                                          |
| Verify the Gateway is upgraded.                                                                                                                                                                                                                                                    | View the release number via Command Center, the Gateway start-up output, or the log file.                                                                                                                                                                                                                                                                     |
| If you are using 4.x SPIs, update the SPI package names. | Change `com.kaazing.gateway.server.spi.security` to `org.kaazing.gateway.server.spi.security`.
| If you are using JMX MBeans to monitor the Gateway, update the MBean paths.                                                                                                                                                                                                        | In 4.*x* and 5.*x*, the MBeans path is `org.kaazing.gateway.server.management > gateways > process_id@hostname > services`. Note that some service names may have changed or been deprecated. |
| If you used AMQP identify promotion in your LoginModule, update the package names for 5.x | [Promote User Identity into the AMQP Protocol](../security/p_auth_user_identity_promotion.md) |
| Learn how clients built using KAAZING Gateway can take advantage of the KAAZING Gateway client libraries.                                                                                                                                                                          | [General Client Information](../dev-general/c_general_client_information.md)                                                                                                                                                                                                                                                                                  |
| (Recommended) Migrate Kaazing JavaScript and Java clients that use the ByteSocket API on releases 3.3 (and later releases) to the WebSocket API in release 4.*x*.                                                                                                                  | [Migrate JavaScript Applications to KAAZING Gateway 4.*x*.](../javascript/p_dev_js_migrate.md); [Migrate WebSocket and ByteSocket Applications to KAAZING Gateway 5.0](../java/p_dev_android_migrate.md)                                                                                                                                                         |

See Also
------------------------------

-   KAAZING Gateway [documentation](../index.md).
